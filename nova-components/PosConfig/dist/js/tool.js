!function(t){var e={};function a(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=e,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,a){a(1),t.exports=a(6)},function(t,e,a){Nova.booting(function(t,e,s){t.component("pos-config",a(2))})},function(t,e,a){var s=a(3)(a(4),a(5),!1,null,null,null);t.exports=s.exports},function(t,e){t.exports=function(t,e,a,s,i,r){var n,o=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(n=t,o=t.default);var l,u="function"==typeof o?o.options:o;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),a&&(u.functional=!0),i&&(u._scopeId=i),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=l):s&&(l=s),l){var d=u.functional,p=d?u.render:u.beforeCreate;d?(u._injectStyles=l,u.render=function(t,e){return l.call(e),p(t,e)}):u.beforeCreate=p?[].concat(p,l):[l]}return{esModule:n,exports:o,options:u}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["resourceName","resourceId","panel"],data:function(){return{hasPayments:!1,payments:"",closedTip:!1,openTip:!1,automaticClosure:!1,isLoading:!1,hasSignature:!1,signatureMinAmount:0,isUpdating:!1,posPin:""}},mounted:function(){var t=this;this.isLoading=!0,axios.get("/zuma/pos-config/"+this.resourceId).then(function(e){var a=e.data;t.isLoading=!1,t.openTip=!1,t.closedTip=1==a.closed_tip,t.automaticClosure=1==a.automatic_closure,t.hasPayments=!0,t.payments=a.payments,t.posPin=a.pos_pin,t.signatureMinAmount=1e11==a.signature_amount?0:a.signature_amount,t.hasSignature=1e11!=a.signature_amount})},methods:{updateParameters:function(){var t=this;this.isUpdating=!0;var e={open_tip:this.openTip,pos_pin:this.posPin,closed_tip:this.closedTip,automatic_closure:this.automaticClosure,payments:this.payments,signature_amount:this.hasSignature?this.signatureMinAmount:1e11};axios.post("/zuma/pos-config/"+this.resourceId,e).then(function(e){var a=e.data;switch(t.isUpdating=!1,a.message){case"configured_successfully":t.$toasted.show("Parámetros actualizados exitosamente.",{type:"success"});break;default:t.$toasted.show("No se pudieron actualizar los parámetros, intenta más tarde.",{type:"error"})}}).catch(function(){t.$toasted.show("Ocurrió un error con su conexión, intenta más tarde.",{type:"error"}),t.isUpdating=!1})}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isLoading?a("div",{staticClass:"flex items-center justify-center z-50 p-6",staticStyle:{"min-height":"150px"}},[a("svg",{staticClass:"text-60 mx-auto block",staticStyle:{width:"50px"},attrs:{viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"}},[a("circle",{attrs:{cx:"15",cy:"15",r:"12.5015"}},[a("animate",{attrs:{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}}),t._v(" "),a("animate",{attrs:{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}})]),t._v(" "),a("circle",{attrs:{cx:"60",cy:"15",r:"11.4985","fill-opacity":"0.3"}},[a("animate",{attrs:{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}}),t._v(" "),a("animate",{attrs:{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"}})]),t._v(" "),a("circle",{attrs:{cx:"105",cy:"15",r:"12.5015"}},[a("animate",{attrs:{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}}),t._v(" "),a("animate",{attrs:{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}})])])]):a("div",[a("h3",[t._v("Configuración del POS")]),t._v(" "),a("card",{staticClass:"card mt-3 mb-6 py-3 px-6"},[a("div",{staticClass:"flex border-b border-40"},[a("div",{staticClass:"w-1/4 py-4"},[a("h4",{staticClass:"font-normal text-80"},[t._v("Propina Cerrada")])]),t._v(" "),a("div",{staticClass:"w-3/4 py-4 break-words"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.closedTip,expression:"closedTip"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.closedTip)?t._i(t.closedTip,null)>-1:t.closedTip},on:{change:function(e){var a=t.closedTip,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&(t.closedTip=a.concat([null])):r>-1&&(t.closedTip=a.slice(0,r).concat(a.slice(r+1)))}else t.closedTip=i}}})])]),t._v(" "),a("div",{staticClass:"flex border-b border-40"},[a("div",{staticClass:"w-1/4 py-4"},[a("h4",{staticClass:"font-normal text-80"},[t._v("Cuotas")])]),t._v(" "),a("div",{staticClass:"w-3/4 py-4 break-words"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.hasPayments,expression:"hasPayments"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.hasPayments)?t._i(t.hasPayments,null)>-1:t.hasPayments},on:{change:function(e){var a=t.hasPayments,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&(t.hasPayments=a.concat([null])):r>-1&&(t.hasPayments=a.slice(0,r).concat(a.slice(r+1)))}else t.hasPayments=i}}})])]),t._v(" "),t.hasPayments?a("div",{staticClass:"flex border-b border-40",attrs:{"resource-id":"11"}},[a("div",{staticClass:"w-1/5 px-8 py-6"},[a("label",{staticClass:"inline-block text-80 pt-2 leading-tight",attrs:{for:"user"}},[t._v("Cuotas Disponibles")])]),t._v(" "),a("div",{staticClass:"py-6 px-8 w-1/2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.payments,expression:"payments"}],staticClass:"w-full form-control form-input form-input-bordered",attrs:{placeholder:"Cuotas disponibles"},domProps:{value:t.payments},on:{input:function(e){e.target.composing||(t.payments=e.target.value)}}}),t._v(" "),a("div",{staticClass:"help-text help-text mt-2"},[t._v("Ingrese las cuotas válidas sin espacios en formato de 2 dígitos, ej. 030612.")])])]):t._e(),t._v(" "),a("div",{staticClass:"flex border-b border-40"},[a("div",{staticClass:"w-1/4 py-4"},[a("h4",{staticClass:"font-normal text-80"},[t._v("Solicitar firma")])]),t._v(" "),a("div",{staticClass:"w-3/4 py-4 break-words"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.hasSignature,expression:"hasSignature"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.hasSignature)?t._i(t.hasSignature,null)>-1:t.hasSignature},on:{change:function(e){var a=t.hasSignature,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=t._i(a,null);s.checked?r<0&&(t.hasSignature=a.concat([null])):r>-1&&(t.hasSignature=a.slice(0,r).concat(a.slice(r+1)))}else t.hasSignature=i}}})])]),t._v(" "),t.hasSignature?a("div",{staticClass:"flex border-b border-40",attrs:{"resource-id":"11"}},[a("div",{staticClass:"w-1/5 px-8 py-6"},[a("label",{staticClass:"inline-block text-80 pt-2 leading-tight",attrs:{for:"user"}},[t._v("Monto mínimo para firma")])]),t._v(" "),a("div",{staticClass:"py-6 px-8 w-1/2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.signatureMinAmount,expression:"signatureMinAmount"}],staticClass:"w-full form-control form-input form-input-bordered",attrs:{placeholder:"Cuotas disponibles"},domProps:{value:t.signatureMinAmount},on:{input:function(e){e.target.composing||(t.signatureMinAmount=e.target.value)}}}),t._v(" "),a("div",{staticClass:"help-text help-text mt-2"},[t._v("A partir del monto seleccionado, se solicitará firma al usuario.")])])]):t._e(),t._v(" "),a("div",{staticClass:"flex border-b border-40",attrs:{"resource-id":"11"}},[a("div",{staticClass:"w-1/5 px-8 py-6"},[a("label",{staticClass:"inline-block text-80 pt-2 leading-tight",attrs:{for:"user"}},[t._v("Pin de POS")])]),t._v(" "),a("div",{staticClass:"py-6 px-8 w-1/2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.posPin,expression:"posPin"}],staticClass:"w-full form-control form-input form-input-bordered",attrs:{placeholder:"PIN Pos"},domProps:{value:t.posPin},on:{input:function(e){e.target.composing||(t.posPin=e.target.value)}}}),t._v(" "),a("div",{staticClass:"help-text help-text mt-2"},[t._v("PIN para realizar la conexión hacia el POS.")])])])]),t._v(" "),a("button",{staticClass:"btn btn-default btn-primary inline-flex items-center relative",attrs:{disabled:t.isUpdating},on:{click:t.updateParameters}},[t._v("Actualizar parámetros")])],1)])},staticRenderFns:[]}},function(t,e){}]);